ghook_main_hooks_dir="$(realpath "$(dirname "$0")")"
ghooks_main_path="$(dirname "$ghook_main_hooks_dir")"
ghooks_scripts_dir="$ghooks_main_path/scripts"
projects="$("$(bash "$ghooks_scripts_dir/getprojects.sh")" | sed 's/ /|/g')"
echo "$projects"

# Run commit checker.
bash "$ghooks_scripts_dir/commit_checker.sh" "$(cat $1)" "$projects"

# Run sub-project hooks.
bash "$ghooks_scripts_dir/runhooks.sh" "$(basename "$0")"
